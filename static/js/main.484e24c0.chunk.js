(this.webpackJsonphomework_2=this.webpackJsonphomework_2||[]).push([[4],{14:function(e,t,n){e.exports={nav:"Navigation_nav__80Q-O",link:"Navigation_link__34ROk",link_activeStyle:"Navigation_link_activeStyle__20mM8"}},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var c=function(e){return e.session.authenticated},a=function(e){return e.session.user}},17:function(e,t,n){"use strict";var c=n(45),a=n.n(c).a.create({baseURL:"https://goit-phonebook-api.herokuapp.com"});t.a=a},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var c=n(17),a=n(5),r=function(e){return function(t){t(Object(a.d)()),c.a.post("/users/login",e).then((function(e){t(Object(a.e)(e.data))})).catch((function(e){t(Object(a.c)(e))}))}},o=function(e){return function(t){t(Object(a.j)()),c.a.post("/users/signup",e).then((function(e){t(Object(a.k)(e.data))})).catch((function(e){t(Object(a.i)(e))}))}},s=function(){return function(e){localStorage.getItem("token")&&(e(Object(a.g)()),c.a.get("/users/current").then((function(t){e(Object(a.h)(t.data))})).catch((function(t){e(Object(a.f)(t))})))}},i=function(){return function(e){localStorage.removeItem("token"),e(Object(a.b)())}}},24:function(e,t,n){e.exports={profile:"UserProfile_profile__3ZArI",name:"UserProfile_name__e53tK",button:"UserProfile_button__34gNh"}},3:function(e,t,n){"use strict";t.a={FETCH_CONTACTS_START:"contacts/FETCH_CONTACTS_START",FETCH_CONTACTS_SUCCESS:"contacts/FETCH_CONTACTS_SUCCESS",FETCH_CONTACTS_ERROR:"contacts/FETCH_CONTACTS_ERROR",ADD_CONTACT_START:"contacts/ADD_CONTACT_START",ADD_CONTACT_SUCCESS:"contacts/ADD_CONTACT_SUCCESS",ADD_CONTACT_ERROR:"contacts/ADD_CONTACT_ERROR",DELETE_CONTACT_START:"contacts/DELETE_CONTACT_START",DELETE_CONTACT_SUCCESS:"contacts/DELETE_CONTACT_SUCCESS",DELETE_CONTACT_ERROR:"contacts/DELETE_CONTACT_ERROR",DELETE_CONTACT:"contacts/DELETE_CONTACT",FILTER_CONTACT:"contacts/FILTER_CONTACT",EDIT_CONTACT_START:"EDIT_CONTACT_START",EDIT_CONTACT_SUCCESS:"EDIT_CONTACT_SUCCESS",EDIT_CONTACT_ERROR:"EDIT_CONTACT_ERROR"}},30:function(e,t,n){e.exports={wrapper:"Loader_wrapper__1Ynhb",loader:"Loader_loader__v16XB"}},46:function(e,t,n){e.exports={header:"AppBar_header__1F67Q"}},48:function(e,t,n){e.exports={root:"App_root__HhgNT"}},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return T})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return C})),n.d(t,"f",(function(){return E}));var c={LOGIN_REQUEST:"session/LOGIN_REQUEST",LOGIN_SUCCESS:"session/LOGIN_SUCCESS",LOGIN_ERROR:"session/LOGIN_ERROR",SIGNUP_REQUEST:"session/SIGNUP_REQUEST",SIGNUP_SUCCESS:"session/SIGNUP_SUCCESS",SIGNUP_ERROR:"session/SIGNUP_ERROR",LOGOUT:"session/LOGOUT",REFRESH_USER_REQUEST:"session/REFRESH_USER_REQUEST",REFRESH_USER_SUCCESS:"session/REFRESH_USER_SUCCESS",REFRESH_USER_ERROR:"session/REFRESH_USER_ERROR"},a=function(){return{type:c.SIGNUP_REQUEST}},r=function(e){return{type:c.SIGNUP_SUCCESS,payload:{response:e}}},o=function(e){return{type:c.SIGNUP_ERROR,payload:{error:e}}},s=function(){return{type:c.LOGIN_REQUEST}},i=function(e){return{type:c.LOGIN_SUCCESS,payload:{response:e}}},u=function(e){return{type:c.LOGIN_ERROR,payload:{error:e}}},T=function(){return{type:c.LOGOUT}},_=function(){return{type:c.REFRESH_USER_REQUEST}},C=function(e){return{type:c.REFRESH_USER_SUCCESS,payload:{response:e}}},E=function(e){return{type:c.REFRESH_USER_ERROR,payload:{error:e}}}},97:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n(21),o=n.n(r),s=n(15),i=n(6),u=n(8),T=n(13),_=n(43),C=n(44),E=n(49),S=n(3),O=Object(T.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FETCH_CONTACTS_SUCCESS:return t.payload.contacts;case S.a.ADD_CONTACT_SUCCESS:return t.payload.contact.name&&t.payload.contact.number?[].concat(Object(E.a)(e),[t.payload.contact]):e;case S.a.EDIT_CONTACT_SUCCESS:return e.map((function(e){return e.id===t.payload.contact.id?t.payload.contact:e}));case S.a.DELETE_CONTACT_SUCCESS:return e.filter((function(e){return e.id!==t.payload.id}));default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FILTER_CONTACT:return t.payload.filter;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FETCH_CONTACTS_START:case S.a.ADD_CONTACT_START:case S.a.DELETE_CONTACT_START:case S.a.EDIT_CONTACT_START:return!0;case S.a.FETCH_CONTACTS_SUCCESS:case S.a.ADD_CONTACT_SUCCESS:case S.a.DELETE_CONTACT_SUCCESS:case S.a.EDIT_CONTACT_SUCCESS:case S.a.FETCH_CONTACTS_ERROR:case S.a.ADD_CONTACT_ERROR:case S.a.DELETE_CONTACT_ERROR:case S.a.EDIT_CONTACT_ERROR:return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.FETCH_CONTACTS_START:case S.a.ADD_CONTACT_START:case S.a.DELETE_CONTACT_START:case S.a.EDIT_CONTACT_START:return null;case S.a.FETCH_CONTACTS_ERROR:case S.a.ADD_CONTACT_ERROR:case S.a.DELETE_CONTACT_ERROR:case S.a.EDIT_CONTACT_ERROR:return t.payload.error;default:return e}}}),l=n(5),R=Object(T.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case l.a.LOGIN_SUCCESS:case l.a.SIGNUP_SUCCESS:return c.response.user;case l.a.REFRESH_USER_SUCCESS:return c.response;case l.a.LOGOUT:return null;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case l.a.LOGIN_ERROR:case l.a.SIGNUP_ERROR:case l.a.REFRESH_USER_ERROR:return c.error;default:return e}},authenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;switch(n){case l.a.LOGIN_SUCCESS:case l.a.SIGNUP_SUCCESS:case l.a.REFRESH_USER_SUCCESS:return!0;case l.a.LOGOUT:return!1;default:return e}}}),d=Object(T.combineReducers)({contacts:O,session:R}),b=Object(T.applyMiddleware)(C.a),j=Object(T.createStore)(d,Object(_.composeWithDevTools)(b)),f=n(22),N=n(20),p=n(50),h=n(16),A=function(e){var t=e.redirectTo,n=e.path,a=Object(p.a)(e,["redirectTo","path"]),r=Object(u.c)((function(e){return h.b(e)})),o=Object(i.h)();return r?Object(c.jsx)(i.b,Object(N.a)(Object(N.a)({},a),{},{path:n})):Object(c.jsx)(i.a,Object(N.a)(Object(N.a)({},a),{},{to:{pathname:t,state:{from:o}}}))},U=n(14),v=n.n(U),m=function(){var e=Object(u.c)((function(e){return h.b(e)}));return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:v.a.nav,children:[!e&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(s.b,{to:"/",exact:!0,activeClassName:v.a.link_activeStyle,className:v.a.link,children:"HOME"}),Object(c.jsx)(s.b,{to:"/signup",activeClassName:v.a.link_activeStyle,className:v.a.link,children:"SIGN UP"}),Object(c.jsx)(s.b,{to:"/login",activeClassName:v.a.link_activeStyle,className:v.a.link,children:"LOG IN"})]}),e&&Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(s.b,{to:"/contacts",activeClassName:v.a.link_activeStyle,className:v.a.link,children:"CONTACTS"})})]})})},D=n(24),y=n.n(D),I=function(){var e=Object(u.c)((function(e){return h.a(e)})),t=Object(u.b)();return Object(c.jsxs)("div",{className:y.a.profile,children:[Object(c.jsx)("h3",{className:y.a.name,children:e.name}),Object(c.jsx)("button",{type:"button",onClick:function(){t(f.b())},className:y.a.button,children:"LOG OUT"})]})},g=n(46),x=n.n(g),L=function(){var e=Object(u.c)((function(e){return h.b(e)}));return Object(c.jsxs)("header",{className:x.a.header,children:[Object(c.jsx)(m,{}),e&&Object(c.jsx)(I,{})]})},G=n(47),k=n.n(G),F=n(30),H=n.n(F),P=function(){return Object(c.jsx)("div",{className:H.a.wrapper,children:Object(c.jsx)(k.a,{type:"TailSpin",color:"#3f51b5",height:100,width:100,timeout:3e3,className:H.a.loader})})},w=n(48),Q=n.n(w),z=Object(a.lazy)((function(){return n.e(2).then(n.bind(null,496))})),B=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,499))})),M=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,500))})),J=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8),n.e(1)]).then(n.bind(null,497))})),q=function(){var e=Object(u.b)();return Object(a.useEffect)((function(){e(f.c())}),[]),Object(c.jsxs)("div",{className:Q.a.root,children:[Object(c.jsx)(L,{}),Object(c.jsx)(a.Suspense,{fallback:Object(c.jsx)(P,{}),children:Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{path:"/",exact:!0,children:Object(c.jsx)(z,{})}),Object(c.jsx)(i.b,{path:"/signup",children:Object(c.jsx)(M,{})}),Object(c.jsx)(i.b,{path:"/login",children:Object(c.jsx)(B,{})}),Object(c.jsx)(A,{path:"/contacts",redirectTo:"/login",children:Object(c.jsx)(J,{})}),Object(c.jsx)(i.a,{to:"/"})]})})]})};(function(e){e.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){Promise.reject(e)})),e.interceptors.response.use((function(e){return e.data.token&&localStorage.setItem("token",e.data.token),e}),(function(e){return 401===e.response.status&&localStorage.removeItem("token"),Promise.reject(e)}))})(n(17).a),o.a.render(Object(c.jsx)(u.a,{store:j,children:Object(c.jsx)(s.a,{basename:"/phonebook_app",children:Object(c.jsx)(i.b,{component:q})})}),document.getElementById("root"))}},[[97,5,7]]]);
//# sourceMappingURL=main.484e24c0.chunk.js.map