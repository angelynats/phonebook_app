{"version":3,"sources":["components/Navigation/Navigation.module.css","redux/session/sessionSelectors.js","utils/apiInstance/apiInstance.js","redux/session/sessionOperations.js","components/UserProfile/UserProfile.module.css","redux/contact/Types.js","components/Loader/Loader.module.css","components/AppBar/AppBar.module.css","components/App/App.module.css","redux/session/sessionActions.js","redux/contact/contactReducer.js","redux/session/sessionReducer.js","redux/store.js","utils/ProtectedRoute.js","components/Navigation/Navigation.js","components/UserProfile/UserProfile.js","components/AppBar/AppBar.js","components/Loader/Loader.js","components/App/App.js","utils/apiInstance/setInterceptorsToApiInstance.js","index.js"],"names":["module","exports","isAuthenticated","state","session","authenticated","getUser","user","apiInstance","axios","create","baseURL","login","credentials","dispatch","loginRequest","post","then","response","loginSuccess","data","catch","error","loginError","signup","signupRequest","signupSuccess","signupError","refreshUser","localStorage","getItem","refreshUserRequest","get","refreshUserSuccess","refreshUserError","logout","removeItem","logOut","Types","FETCH_CONTACTS_START","FETCH_CONTACTS_SUCCESS","FETCH_CONTACTS_ERROR","ADD_CONTACT_START","ADD_CONTACT_SUCCESS","ADD_CONTACT_ERROR","DELETE_CONTACT_START","DELETE_CONTACT_SUCCESS","DELETE_CONTACT_ERROR","DELETE_CONTACT","FILTER_CONTACT","EDIT_CONTACT_START","EDIT_CONTACT_SUCCESS","EDIT_CONTACT_ERROR","ActionTypes","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_ERROR","LOGOUT","REFRESH_USER_REQUEST","REFRESH_USER_SUCCESS","REFRESH_USER_ERROR","type","payload","combineReducers","items","action","contacts","contact","name","number","map","id","filter","loading","rootReducer","contactReducer","sessionReducer","enhancer","applyMiddleware","ReduxThunk","store","createStore","composeWithDevTools","ProtectedRoute","redirectTo","path","rest","useSelector","sessionSelectors","location","useLocation","to","pathname","from","Navigation","className","styles","nav","exact","activeClassName","link_activeStyle","link","UserProfile","useDispatch","profile","onClick","sessionOperations","button","AppBar","header","LoaderCircle","classes","wrapper","color","height","width","timeout","loader","AsyncHomePage","lazy","AsyncLoginPage","AsyncSignupPage","AsyncContactsPage","App","useEffect","root","fallback","Loader","api","interceptors","request","use","config","token","headers","Promise","reject","setItem","status","setInterceptorsToApiInstance","ReactDOM","render","basename","component","document","getElementById"],"mappings":"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","file":"static/js/main.484e24c0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__80Q-O\",\"link\":\"Navigation_link__34ROk\",\"link_activeStyle\":\"Navigation_link_activeStyle__20mM8\"};","// import { createSelector } from 'reselect';\r\n\r\nexport const isAuthenticated = state => state.session.authenticated;\r\n\r\nexport const getToken = state => state.session.token;\r\n\r\nexport const getUser = state => state.session.user;\r\n\r\n// export const getContactById = createSelector(\r\n//   [(state, id) => id, getContacts],\r\n//   (id, contacts) => contacts.find(contact => contact.id === id),\r\n// );\r\n\r\n// export const getContactFilter = state => state.contacts.filter;\r\n\r\n// export const getContactsWithFilter = createSelector(\r\n//   [getContacts, getContactFilter],\r\n//   (contacts, filter) => {\r\n//     if (filter !== '') {\r\n//       return contacts.filter(contact =>\r\n//         contact.name.toLowerCase().includes(filter.toLowerCase()),\r\n//       );\r\n//     }\r\n//     return contacts;\r\n//   },\r\n// );\r\n","import axios from 'axios';\r\n\r\nconst apiInstance = axios.create({\r\n  baseURL: 'https://goit-phonebook-api.herokuapp.com',\r\n});\r\nexport default apiInstance;\r\n","import apiInstance from '../../utils/apiInstance/apiInstance';\r\nimport {\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  signupRequest,\r\n  signupSuccess,\r\n  signupError,\r\n  refreshUserRequest,\r\n  refreshUserSuccess,\r\n  refreshUserError,\r\n  logOut,\r\n} from './sessionActions';\r\n\r\nexport const login = credentials => dispatch => {\r\n  dispatch(loginRequest());\r\n\r\n  apiInstance\r\n    .post('/users/login', credentials)\r\n    .then(response => {\r\n      dispatch(loginSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(loginError(error));\r\n    });\r\n};\r\n\r\nexport const signup = credentials => dispatch => {\r\n  dispatch(signupRequest());\r\n\r\n  apiInstance\r\n    .post('/users/signup', credentials)\r\n    .then(response => {\r\n      dispatch(signupSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(signupError(error));\r\n    });\r\n};\r\n\r\nexport const refreshUser = () => dispatch => {\r\n  const token = localStorage.getItem('token');\r\n  if (!token) {\r\n    return;\r\n  }\r\n  dispatch(refreshUserRequest());\r\n\r\n  apiInstance\r\n    .get('/users/current')\r\n    .then(response => {\r\n      dispatch(refreshUserSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(refreshUserError(error));\r\n    });\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n  localStorage.removeItem('token');\r\n  dispatch(logOut());\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__3ZArI\",\"name\":\"UserProfile_name__e53tK\",\"button\":\"UserProfile_button__34gNh\"};","const Types = {\r\n  FETCH_CONTACTS_START: 'contacts/FETCH_CONTACTS_START',\r\n  FETCH_CONTACTS_SUCCESS: 'contacts/FETCH_CONTACTS_SUCCESS',\r\n  FETCH_CONTACTS_ERROR: 'contacts/FETCH_CONTACTS_ERROR',\r\n  ADD_CONTACT_START: 'contacts/ADD_CONTACT_START',\r\n  ADD_CONTACT_SUCCESS: 'contacts/ADD_CONTACT_SUCCESS',\r\n  ADD_CONTACT_ERROR: 'contacts/ADD_CONTACT_ERROR',\r\n  DELETE_CONTACT_START: 'contacts/DELETE_CONTACT_START',\r\n  DELETE_CONTACT_SUCCESS: 'contacts/DELETE_CONTACT_SUCCESS',\r\n  DELETE_CONTACT_ERROR: 'contacts/DELETE_CONTACT_ERROR',\r\n  DELETE_CONTACT: 'contacts/DELETE_CONTACT',\r\n  FILTER_CONTACT: 'contacts/FILTER_CONTACT',\r\n  EDIT_CONTACT_START: 'EDIT_CONTACT_START',\r\n  EDIT_CONTACT_SUCCESS: 'EDIT_CONTACT_SUCCESS',\r\n  EDIT_CONTACT_ERROR: 'EDIT_CONTACT_ERROR',\r\n};\r\n\r\nexport default Types;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__1Ynhb\",\"loader\":\"Loader_loader__v16XB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1F67Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__HhgNT\"};","export const ActionTypes = {\r\n  LOGIN_REQUEST: 'session/LOGIN_REQUEST',\r\n  LOGIN_SUCCESS: 'session/LOGIN_SUCCESS',\r\n  LOGIN_ERROR: 'session/LOGIN_ERROR',\r\n  SIGNUP_REQUEST: 'session/SIGNUP_REQUEST',\r\n  SIGNUP_SUCCESS: 'session/SIGNUP_SUCCESS',\r\n  SIGNUP_ERROR: 'session/SIGNUP_ERROR',\r\n  LOGOUT: 'session/LOGOUT',\r\n  REFRESH_USER_REQUEST: 'session/REFRESH_USER_REQUEST',\r\n  REFRESH_USER_SUCCESS: 'session/REFRESH_USER_SUCCESS',\r\n  REFRESH_USER_ERROR: 'session/REFRESH_USER_ERROR',\r\n};\r\n\r\n// SIGNUP\r\n\r\nexport const signupRequest = () => ({\r\n  type: ActionTypes.SIGNUP_REQUEST,\r\n});\r\n\r\nexport const signupSuccess = response => ({\r\n  type: ActionTypes.SIGNUP_SUCCESS,\r\n  payload: { response },\r\n});\r\n\r\nexport const signupError = error => ({\r\n  type: ActionTypes.SIGNUP_ERROR,\r\n  payload: { error },\r\n});\r\n\r\n// LOGIN\r\n\r\nexport const loginRequest = () => ({\r\n  type: ActionTypes.LOGIN_REQUEST,\r\n});\r\n\r\nexport const loginSuccess = response => ({\r\n  type: ActionTypes.LOGIN_SUCCESS,\r\n  payload: { response },\r\n});\r\n\r\nexport const loginError = error => ({\r\n  type: ActionTypes.LOGIN_ERROR,\r\n  payload: { error },\r\n});\r\n\r\n// LOGOUT\r\n\r\nexport const logOut = () => ({\r\n  type: ActionTypes.LOGOUT,\r\n});\r\n\r\n// REFRESH\r\n\r\nexport const refreshUserRequest = () => ({\r\n  type: ActionTypes.REFRESH_USER_REQUEST,\r\n});\r\n\r\nexport const refreshUserSuccess = response => ({\r\n  type: ActionTypes.REFRESH_USER_SUCCESS,\r\n  payload: { response },\r\n});\r\n\r\nexport const refreshUserError = error => ({\r\n  type: ActionTypes.REFRESH_USER_ERROR,\r\n  payload: { error },\r\n});\r\n","import Types from './Types';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst itemsReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_CONTACTS_SUCCESS:\r\n      return action.payload.contacts;\r\n    case Types.ADD_CONTACT_SUCCESS:\r\n      if (!action.payload.contact.name || !action.payload.contact.number) {\r\n        return state;\r\n      }\r\n      return [...state, action.payload.contact];\r\n    case Types.EDIT_CONTACT_SUCCESS:\r\n      return state.map(contact =>\r\n        contact.id === action.payload.contact.id\r\n          ? action.payload.contact\r\n          : contact,\r\n      );\r\n\r\n    case Types.DELETE_CONTACT_SUCCESS:\r\n      return state.filter(contact => contact.id !== action.payload.id);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst loadingReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_CONTACTS_START:\r\n    case Types.ADD_CONTACT_START:\r\n    case Types.DELETE_CONTACT_START:\r\n    case Types.EDIT_CONTACT_START:\r\n      return true;\r\n    case Types.FETCH_CONTACTS_SUCCESS:\r\n    case Types.ADD_CONTACT_SUCCESS:\r\n    case Types.DELETE_CONTACT_SUCCESS:\r\n    case Types.EDIT_CONTACT_SUCCESS:\r\n    case Types.FETCH_CONTACTS_ERROR:\r\n    case Types.ADD_CONTACT_ERROR:\r\n    case Types.DELETE_CONTACT_ERROR:\r\n    case Types.EDIT_CONTACT_ERROR:\r\n      return false;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst errorReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case Types.FETCH_CONTACTS_START:\r\n    case Types.ADD_CONTACT_START:\r\n    case Types.DELETE_CONTACT_START:\r\n    case Types.EDIT_CONTACT_START:\r\n      return null;\r\n    case Types.FETCH_CONTACTS_ERROR:\r\n    case Types.ADD_CONTACT_ERROR:\r\n    case Types.DELETE_CONTACT_ERROR:\r\n    case Types.EDIT_CONTACT_ERROR:\r\n      return action.payload.error;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst filterReducer = (state = '', action) => {\r\n  switch (action.type) {\r\n    case Types.FILTER_CONTACT:\r\n      return action.payload.filter;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  items: itemsReducer,\r\n  filter: filterReducer,\r\n  loading: loadingReducer,\r\n  error: errorReducer,\r\n});\r\n","import { ActionTypes } from './sessionActions';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst userReducer = (state = null, { type, payload }) => {\r\n  switch (type) {\r\n    case ActionTypes.LOGIN_SUCCESS:\r\n    case ActionTypes.SIGNUP_SUCCESS:\r\n      return payload.response.user;\r\n    case ActionTypes.REFRESH_USER_SUCCESS:\r\n      return payload.response;\r\n\r\n    case ActionTypes.LOGOUT:\r\n      return null;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst authenticatedReducer = (state = false, { type, payload }) => {\r\n  switch (type) {\r\n    case ActionTypes.LOGIN_SUCCESS:\r\n    case ActionTypes.SIGNUP_SUCCESS:\r\n    case ActionTypes.REFRESH_USER_SUCCESS:\r\n      return true;\r\n    case ActionTypes.LOGOUT:\r\n      return false;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst errorReducer = (state = null, { type, payload }) => {\r\n  switch (type) {\r\n    case ActionTypes.LOGIN_ERROR:\r\n    case ActionTypes.SIGNUP_ERROR:\r\n    case ActionTypes.REFRESH_USER_ERROR:\r\n      return payload.error;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  user: userReducer,\r\n  error: errorReducer,\r\n  authenticated: authenticatedReducer,\r\n});\r\n\r\n// {\r\n//     session: {\r\n//         user: {},\r\n//         error: null,\r\n//     }\r\n// }\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport ReduxThunk from 'redux-thunk';\r\n\r\nimport contactReducer from './contact/contactReducer';\r\nimport sessionReducer from './session/sessionReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  contacts: contactReducer,\r\n  session: sessionReducer,\r\n});\r\n\r\nconst enhancer = applyMiddleware(ReduxThunk);\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(enhancer));\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { Route, Redirect, useLocation } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport * as sessionSelectors from '../redux/session/sessionSelectors';\r\n\r\nconst ProtectedRoute = ({ redirectTo, path, ...rest }) => {\r\n  const authenticated = useSelector(state =>\r\n    sessionSelectors.isAuthenticated(state),\r\n  );\r\n  const location = useLocation();\r\n\r\n  return authenticated ? (\r\n    <Route {...rest} path={path} />\r\n  ) : (\r\n    <Redirect\r\n      {...rest}\r\n      to={{\r\n        pathname: redirectTo,\r\n        state: {\r\n          from: location,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport * as sessionSelectors from '../../redux/session/sessionSelectors';\r\nimport styles from './Navigation.module.css';\r\n\r\nconst Navigation = () => {\r\n  const authenticated = useSelector(state =>\r\n    sessionSelectors.isAuthenticated(state),\r\n  );\r\n  return (\r\n    <div>\r\n      <div className={styles.nav}>\r\n        {!authenticated && (\r\n          <>\r\n            <NavLink\r\n              to=\"/\"\r\n              exact\r\n              activeClassName={styles.link_activeStyle}\r\n              className={styles.link}\r\n            >\r\n              HOME\r\n            </NavLink>\r\n            <NavLink\r\n              to=\"/signup\"\r\n              activeClassName={styles.link_activeStyle}\r\n              className={styles.link}\r\n            >\r\n              SIGN UP\r\n            </NavLink>\r\n\r\n            <NavLink\r\n              to=\"/login\"\r\n              activeClassName={styles.link_activeStyle}\r\n              className={styles.link}\r\n            >\r\n              LOG IN\r\n            </NavLink>\r\n          </>\r\n        )}\r\n\r\n        {authenticated && (\r\n          <>\r\n            <NavLink\r\n              to=\"/contacts\"\r\n              activeClassName={styles.link_activeStyle}\r\n              className={styles.link}\r\n            >\r\n              CONTACTS\r\n            </NavLink>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n\r\nNavigation.propTypes = {\r\n  authenticated: PropTypes.bool,\r\n};\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as sessionOperations from '../../redux/session/sessionOperations';\r\nimport * as sessionSelectors from '../../redux/session/sessionSelectors';\r\nimport styles from './UserProfile.module.css';\r\n\r\nconst UserProfile = () => {\r\n  const user = useSelector(state => sessionSelectors.getUser(state));\r\n  const dispatch = useDispatch();\r\n  const onLogOut = () => {\r\n    dispatch(sessionOperations.logout());\r\n  };\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      <h3 className={styles.name}>{user.name}</h3>\r\n      <button type=\"button\" onClick={onLogOut} className={styles.button}>\r\n        LOG OUT\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n\r\nUserProfile.propTypes = {\r\n  user: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string,\r\n    number: PropTypes.string,\r\n  }),\r\n  onLogOut: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport * as sessionSelectors from '../../redux/session/sessionSelectors';\r\n\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserProfile from '../UserProfile/UserProfile';\r\nimport styles from './AppBar.module.css';\r\n\r\nconst AppBar = () => {\r\n  const authenticated = useSelector(state =>\r\n    sessionSelectors.isAuthenticated(state),\r\n  );\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      {authenticated && <UserProfile />}\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n\r\nAppBar.propTypes = {\r\n  authenticated: PropTypes.bool,\r\n  user: PropTypes.shape({\r\n    id: PropTypes.string.isRequired,\r\n    name: PropTypes.string,\r\n    number: PropTypes.string,\r\n  }),\r\n  onLogOut: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport classes from './Loader.module.css';\r\n\r\nconst LoaderCircle = () => (\r\n  <div className={classes.wrapper}>\r\n    <Loader\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000}\r\n      className={classes.loader}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default LoaderCircle;\r\n","import React, { lazy, Suspense, useEffect } from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n// import PropTypes from 'prop-types';\nimport * as sessionOperations from '../../redux/session/sessionOperations';\nimport ProtectedRoute from '../../utils/ProtectedRoute';\n\nimport AppBar from '../AppBar/AppBar';\nimport Loader from '../Loader/Loader';\nimport styles from './App.module.css';\n\nconst AsyncHomePage = lazy(() =>\n  import('../../pages/HomePage/HomePage' /* webpackChunkName: 'home-page' */),\n);\n\nconst AsyncLoginPage = lazy(() =>\n  import(\n    '../../pages/LoginPage/LoginPage' /* webpackChunkName: 'login-page' */\n  ),\n);\n\nconst AsyncSignupPage = lazy(() =>\n  import(\n    '../../pages/SignupPage/SignupPage' /* webpackChunkName: 'signup-page' */\n  ),\n);\n\nconst AsyncContactsPage = lazy(() =>\n  import(\n    '../../pages/ContactsPage/ContactsPage' /* webpackChunkName: 'contacts-page' */\n  ),\n);\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(sessionOperations.refreshUser());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={styles.root}>\n      <AppBar />\n      <Suspense fallback={<Loader />}>\n        <Switch>\n          <Route path=\"/\" exact>\n            <AsyncHomePage />\n          </Route>\n          <Route path=\"/signup\">\n            <AsyncSignupPage />\n          </Route>\n          <Route path=\"/login\">\n            <AsyncLoginPage />\n          </Route>\n          <ProtectedRoute path=\"/contacts\" redirectTo=\"/login\">\n            <AsyncContactsPage />\n          </ProtectedRoute>\n          <Redirect to=\"/\" />\n        </Switch>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default App;\n","const setInterceptorsToApiInstance = api => {\r\n  api.interceptors.request.use(\r\n    config => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        config.headers['Authorization'] = token;\r\n      }\r\n      return config;\r\n    },\r\n    error => {\r\n      Promise.reject(error);\r\n    },\r\n  );\r\n\r\n  api.interceptors.response.use(\r\n    response => {\r\n      // if (response.status === 200) {\r\n      //   localStorage.removeItem('token');\r\n      // }\r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n      }\r\n      return response;\r\n    },\r\n    error => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem('token');\r\n\r\n        // router.history.push('/auth/login');\r\n      }\r\n      return Promise.reject(error);\r\n    },\r\n  );\r\n};\r\n\r\nexport default setInterceptorsToApiInstance;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './components/App/App';\nimport apiInstance from './utils/apiInstance/apiInstance';\nimport setInterceptorsToApiInstance from './utils/apiInstance/setInterceptorsToApiInstance';\n\nsetInterceptorsToApiInstance(apiInstance);\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter basename=\"/phonebook_app\">\n      <Route component={App} />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}