(this.webpackJsonphomework_2=this.webpackJsonphomework_2||[]).push([[1],{118:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return s}));var a={name:"required|string",email:"required|email",password:"required|string|min:6"},c={email:"required|email",password:"required|string|min:6"},o={name:"required|string",number:"required|string|min:8"},s={required:function(t){return"* ".concat(t," is required")},"email.email":"* please enter a valid email address","password.min":"* must be at least 6 characters long","number.min":"* must be at least 8 characters long"}},464:function(t,e,n){t.exports={enter:"fade_enter__1Mu_q",enterActive:"fade_enterActive__2KpbA",exit:"fade_exit__1-HAC",exitActive:"fade_exitActive__2saVi"}},466:function(t,e,n){t.exports={empty:"ContactList_empty__yCYYN",empty_text:"ContactList_empty_text__2_pZI",list:"ContactList_list___vBKF",list_item:"ContactList_list_item__2PZ3B",total:"ContactList_total__2LHow","example-appear":"ContactList_example-appear__1JwNp","example-appear-active":"ContactList_example-appear-active__18ng0"}},467:function(t,e,n){t.exports={overlay:"Modal_overlay__3M6qj",modal:"Modal_modal__98ut1",button:"Modal_button__33iBU",svg_close:"Modal_svg_close__2hpRC"}},471:function(t,e,n){t.exports={title:"ContactEditor_title__1dCFA",form:"ContactEditor_form__F_GZv",inputs:"ContactEditor_inputs__2fSuY",label:"ContactEditor_label__3Ei3J",input:"ContactEditor_input__nRJoJ",error:"ContactEditor_error__3msYJ",buttons:"ContactEditor_buttons__1pHRt",button_submit:"ContactEditor_button_submit__32W-u",button_cancel:"ContactEditor_button_cancel__3WIFj"}},474:function(t,e,n){t.exports={contacts:"Contact_contacts__1fZ9G",contact_name:"Contact_contact_name__pKoGE",contact_number:"Contact_contact_number__1Mj0Y",buttons:"Contact_buttons__3bXQy",button_delete:"Contact_button_delete__370Ms",button_edit:"Contact_button_edit__1SSmb",svg_del:"Contact_svg_del__291cx",svg_edit:"Contact_svg_edit__txEzZ"}},477:function(t,e,n){t.exports={input:"ContactFilter_input__3iQR1"}},478:function(t,e,n){t.exports={main:"ContactsPage_main__2hIcL",main_contacts:"ContactsPage_main_contacts__1WKHg",header:"ContactsPage_header__2rn2S",header_secondary:"ContactsPage_header_secondary__1KTJd",parameters:"ContactsPage_parameters__1kxpW",button:"ContactsPage_button__30XLk",svg_add:"ContactsPage_svg_add__26zNW"}},497:function(t,e,n){"use strict";n.r(e);var a=n(41),c=n(111),o=n(1),s=n(0),r=n(8),i=n(498),u=n(501),l=n(464),_=n.n(l),d=n(17),b=n(3),m=function(){return function(t){t({type:b.a.FETCH_CONTACTS_START}),d.a.get("/contacts").then((function(e){var n;t((n=e.data,{type:b.a.FETCH_CONTACTS_SUCCESS,payload:{contacts:n}}))})).catch((function(e){t(function(t){return{type:b.a.FETCH_CONTACTS_ERROR,payload:{error:t}}}(e))}))}},j=function(t){return function(e){e({type:b.a.ADD_CONTACT_START}),d.a.post("/contacts",t).then((function(t){e(function(t){return{type:b.a.ADD_CONTACT_SUCCESS,payload:{contact:t}}}(t.data))})).catch((function(t){e(function(t){return{type:b.a.ADD_CONTACT_ERROR,payload:{error:t}}}(t))}))}},p=function(t){return function(e){e({type:b.a.DELETE_CONTACT_START}),d.a.delete("/contacts/".concat(t)).then((function(){e(function(t){return{type:b.a.DELETE_CONTACT_SUCCESS,payload:{id:t}}}(t))})).catch((function(t){console.log(t),e(function(t){return{type:b.a.DELETE_CONTACT_ERROR,payload:{error:t}}}(t))}))}},f=function(t,e){return function(n){n({type:b.a.EDIT_CONTACT_START}),d.a.patch("/contacts/".concat(t),e).then((function(t){n(function(t){return{type:b.a.EDIT_CONTACT_SUCCESS,payload:{contact:t}}}(t.data))})).catch((function(t){n(function(t){return{type:b.a.EDIT_CONTACT_ERROR,payload:{error:t}}}(t))}))}},O=n(465),C=function(t){return t.contacts.items},h=Object(O.a)([function(t,e){return e},C],(function(t,e){return e.find((function(e){return e.id===t}))})),x=Object(O.a)([C,function(t){return t.contacts.filter}],(function(t,e){return""!==e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):t})),N=n(466),v=n.n(N),y=n(467),E=n.n(y),T=n(468),g=n.n(T),A=function(t){var e=t.onClose,n=t.children,a=Object(s.useRef)(null),c=function(t){"Escape"===t.code&&e()};return Object(s.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}),[]),Object(o.jsx)("div",{className:E.a.overlay,ref:a,onClick:function(t){a.current&&t.target!==a.current||e()},children:Object(o.jsxs)("div",{className:E.a.modal,children:[Object(o.jsx)("button",{type:"button",onClick:e,className:E.a.button,children:Object(o.jsx)(g.a,{className:E.a.svg_close})}),n]})})},S=n(129),R=n(118),w=n(216),L=(n(470),n(471)),F=n.n(L),k=function(t){var e=t.title,n=t.titleButton,a=t.contact,i=t.onClose,u=Object(s.useState)(""),l=Object(c.a)(u,2),_=l[0],d=l[1],b=Object(s.useState)(""),m=Object(c.a)(b,2),p=m[0],O=m[1],C=Object(s.useState)(null),h=Object(c.a)(C,2),x=h[0],N=h[1];Object(s.useEffect)((function(){a&&(d(a.name),O(a.number))}),[a]);var v=Object(r.b)();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:F.a.title,children:e}),Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault(),Object(S.validateAll)({name:_,number:p},R.b,R.a).then((function(t){t.number=Object(w.b)(p),v(a?f(a.id,t):j(t)),i()})).catch((function(t){var e={};t.forEach((function(t){return e[t.field]=t.message})),N(e)}))},className:F.a.form,noValidate:!0,children:[Object(o.jsxs)("div",{className:F.a.inputs,children:[Object(o.jsxs)("label",{htmlFor:"name",className:F.a.label,children:["Name",Object(o.jsx)("input",{autoFocus:!0,id:"name",type:"text",name:"name",value:_,onChange:function(t){return d(t.target.value)},className:F.a.input}),x&&Object(o.jsx)("span",{className:F.a.error,children:x.name})]}),Object(o.jsxs)("label",{htmlFor:"number",className:F.a.label,children:["Number",Object(o.jsx)(w.a,{international:!0,defaultCountry:"UA",id:"number",type:"text",name:"number",value:p,onChange:O,className:F.a.input}),x&&Object(o.jsx)("span",{className:F.a.error,children:x.number})]})]}),Object(o.jsxs)("div",{className:F.a.buttons,children:[Object(o.jsx)("button",{type:"submit",className:F.a.button_submit,children:n}),Object(o.jsx)("button",{type:"button",onClick:i,className:F.a.button_cancel,children:"Cancel"})]})]})]})},D=n(474),q=n.n(D),P=n(475),M=n.n(P),J=n(476),H=n.n(J),I=function(t){var e=t.uniqueKey,n=Object(s.useState)(!1),a=Object(c.a)(n,2),i=a[0],u=a[1],l=function(){u(!i)},_=Object(r.c)((function(t){return h(t,e)})),d=Object(r.b)();return Object(o.jsx)(o.Fragment,{children:_&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:q.a.contacts,children:[Object(o.jsx)("p",{className:q.a.contact_name,children:_.name}),Object(o.jsx)("p",{className:q.a.contact_number,children:_.number})]}),Object(o.jsxs)("div",{className:q.a.buttons,children:[Object(o.jsx)("button",{type:"button",onClick:l,className:q.a.button_edit,title:"Edit",children:Object(o.jsx)(M.a,{className:q.a.svg_edit})}),Object(o.jsx)("button",{type:"button",onClick:function(){return t=_.id,void d(p(t));var t},className:q.a.button_delete,title:"Delete",children:Object(o.jsx)(H.a,{className:q.a.svg_del})})]}),i&&Object(o.jsx)(A,{onClose:l,children:Object(o.jsx)(k,{onClose:l,contact:_,titleButton:"Edit",title:"Edit contact"})})]})})},K=function(){var t=Object(s.useState)(!1),e=Object(c.a)(t,2),n=e[0],a=e[1],l=Object(r.c)((function(t){return x(t)})),d=Object(r.c)((function(t){return C(t)})),b=Object(r.b)();return Object(s.useEffect)((function(){b(m())}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i.a,{in:0===d.length,timeout:200,classNames:_.a,unmountOnExit:!0,onEnter:function(){return a(!1)},onExited:function(){return a(!0)},children:Object(o.jsx)("div",{className:v.a.empty,children:Object(o.jsx)("p",{className:v.a.empty_text,children:"Your contact list is empty! Please, add a new contact."})})},"123"),n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u.a,{component:"ul",className:v.a.list,children:l.map((function(t){return Object(o.jsx)(i.a,{timeout:200,classNames:_.a,unmountOnExit:!0,children:Object(o.jsx)("li",{className:v.a.list_item,children:Object(o.jsx)(I,{uniqueKey:t.id})})},t.id)}))}),Object(o.jsx)(i.a,{in:0!==d.length,timeout:200,classNames:_.a,unmountOnExit:!0,children:Object(o.jsxs)("p",{className:v.a.total,children:["Total contacts: ",l.length]})},"12345")]})]})},B=n(477),U=n.n(B),Y=function(){var t=Object(s.useState)(""),e=Object(c.a)(t,2),n=e[0],a=e[1],i=Object(r.b)();return Object(s.useEffect)((function(){i(function(t){return{type:b.a.FILTER_CONTACT,payload:{filter:t}}}(n))}),[n]),Object(o.jsx)("input",{type:"text",id:"input",value:n,onChange:function(t){a(t.target.value)},placeholder:"Type to filter contacts...",className:U.a.input})},W=n(478),Z=n.n(W),G=n(479),z=n.n(G);e.default=function(){var t=Object(s.useState)(!1),e=Object(c.a)(t,2),n=e[0],r=e[1],i=function(){r(!n)};return Object(o.jsx)("main",{className:Z.a.main,children:Object(o.jsxs)("div",{className:Z.a.main_contacts,children:[Object(o.jsx)("h1",{className:Z.a.header,children:"Phonebook"}),Object(o.jsx)("p",{className:Z.a.header_secondary,children:"My contact list"}),Object(o.jsxs)("div",{className:Z.a.parameters,children:[Object(o.jsx)(Y,{}),Object(o.jsx)("button",{type:"button",onClick:i,className:Z.a.button,title:"Add contact",children:Object(o.jsx)(z.a,{className:Z.a.svg_add})})]}),Object(o.jsx)(K,{}),n&&Object(o.jsx)(A,Object(a.a)({onClose:i,children:!0},"children",Object(o.jsx)(k,{titleButton:"Add",title:"Add a new contact",onClose:i})))]})})}}}]);
//# sourceMappingURL=contacts-page.1fca5e6b.chunk.js.map