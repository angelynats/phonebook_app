{"version":3,"sources":["utils/hoc/withAuthRedirect.js","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.js"],"names":["withAuthRedirect","BaseComponent","authenticated","useSelector","state","sessionSelectors","history","useHistory","location","useLocation","useEffect","replace","from","module","exports","className","styles","main","home_page","visually_hidden","header_main","header_main_app","header_secondary","to","link_login","link_signup"],"mappings":"kJAuCeA,IAjCU,SAAAC,GA8BvB,OA7ByB,WACvB,IAAMC,EAAgBC,aAAY,SAAAC,GAAK,OACrCC,IAAiCD,MAE7BE,EAAUC,cACVC,EAAWC,cAqBjB,OAnBAC,qBAAU,WACHR,GAGLI,EAAQK,QAAQ,eAEf,IAEHD,qBAAU,WACR,GAAKR,EAGL,OAAIM,EAASJ,OAASI,EAASJ,MAAMQ,KAC5BN,EAAQK,QAAQH,EAASJ,MAAMQ,WAGxCN,EAAQK,QAAQ,eACf,CAACT,EAAeI,EAASE,EAASJ,QAE9B,cAACH,EAAD,O,oBChCXY,EAAOC,QAAU,CAAC,KAAO,uBAAuB,UAAY,4BAA4B,YAAc,8BAA8B,gBAAkB,kCAAkC,iBAAmB,mCAAmC,WAAa,6BAA6B,YAAc,8BAA8B,iBAAmB,mCAAmC,aAAe,+BAA+B,wBAAwB,wCAAwC,oBAAoB,oCAAoC,WAAW,2BAA2B,iBAAiB,iCAAiC,gBAAkB,kCAAkC,kBAAkB,oC,6FCyB/qBd,uBApBE,WACf,OACE,sBAAMe,UAAWC,IAAOC,KAAxB,SACE,sBAAKF,UAAWC,IAAOE,UAAvB,UACE,oBAAIH,UAAWC,IAAOG,gBAAtB,uBACA,mBAAGJ,UAAWC,IAAOI,YAArB,4BACA,mBAAGL,UAAWC,IAAOK,gBAArB,4BACA,mBAAGN,UAAWC,IAAOM,iBAArB,+BACA,cAAC,IAAD,CAASC,GAAG,SAASR,UAAWC,IAAOQ,WAAvC,oBAGA,mBAAGT,UAAWC,IAAOM,iBAArB,gBACA,cAAC,IAAD,CAASC,GAAG,UAAUR,UAAWC,IAAOS,YAAxC","file":"static/js/home-page.4cf49855.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport * as sessionSelectors from '../../redux/session/sessionSelectors';\r\n\r\nconst withAuthRedirect = BaseComponent => {\r\n  const WithAuthRedirect = () => {\r\n    const authenticated = useSelector(state =>\r\n      sessionSelectors.isAuthenticated(state),\r\n    );\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n      if (!authenticated) {\r\n        return;\r\n      }\r\n      history.replace('/contacts');\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      if (!authenticated) {\r\n        return;\r\n      }\r\n      if (location.state && location.state.from) {\r\n        return history.replace(location.state.from);\r\n      }\r\n\r\n      history.replace('/contacts');\r\n    }, [authenticated, history, location.state]);\r\n\r\n    return <BaseComponent />;\r\n  };\r\n\r\n  return WithAuthRedirect;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"HomePage_main__3LBAC\",\"home_page\":\"HomePage_home_page__DqGeH\",\"header_main\":\"HomePage_header_main__3jFe7\",\"header_main_app\":\"HomePage_header_main_app__inxwB\",\"header_secondary\":\"HomePage_header_secondary__2oaZQ\",\"link_login\":\"HomePage_link_login__1VPy4\",\"link_signup\":\"HomePage_link_signup__Hiy69\",\"services__header\":\"HomePage_services__header__30PNw\",\"team__header\":\"HomePage_team__header__2gExj\",\"services__header-main\":\"HomePage_services__header-main__32qky\",\"team__header-main\":\"HomePage_team__header-main__1Ib_D\",\"nav-menu\":\"HomePage_nav-menu__10GtQ\",\"nav-menu-title\":\"HomePage_nav-menu-title__1g4y0\",\"visually_hidden\":\"HomePage_visually_hidden__5tWi6\",\"visually-hidden\":\"HomePage_visually-hidden__mztWB\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './HomePage.module.css';\r\n\r\nimport withAuthRedirect from '../../utils/hoc/withAuthRedirect';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <main className={styles.main}>\r\n      <div className={styles.home_page}>\r\n        <h1 className={styles.visually_hidden}>Phonebook</h1>\r\n        <p className={styles.header_main}>Welcome to the</p>\r\n        <p className={styles.header_main_app}>Phonebook-App!</p>\r\n        <p className={styles.header_secondary}>To start, please:</p>\r\n        <NavLink to=\"/login\" className={styles.link_login}>\r\n          LOG IN\r\n        </NavLink>\r\n        <p className={styles.header_secondary}>or</p>\r\n        <NavLink to=\"/signup\" className={styles.link_signup}>\r\n          SIGN UP\r\n        </NavLink>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default withAuthRedirect(HomePage);\r\n"],"sourceRoot":""}